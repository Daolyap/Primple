<UserControl x:Class="Primple.Desktop.Views.StlEditorView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:h="http://helix-toolkit.org/wpf">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Toolbar -->
        <Border Grid.Row="0" Margin="0,0,0,15" Padding="15" Style="{StaticResource GlassPanelStyle}">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="ImportBtn" Content="Import STL" Style="{StaticResource GlassButtonStyle}" Margin="0,0,10,0" Click="ImportButton_Click"/>
                
                <Border Width="1" Background="#33FFFFFF" Margin="0,5,10,5"/>
                
                <Button Content="Save Project" Style="{StaticResource GlassButtonStyle}" Margin="0,0,10,0" Click="SaveProject_Click"/>
                <Button Content="Load Project" Style="{StaticResource GlassButtonStyle}" Margin="0,0,10,0" Click="LoadProject_Click"/>
                
                <Border Width="1" Background="#33FFFFFF" Margin="0,5,10,5"/>

                <Button x:Name="ClearBtn" Content="Clear View" Style="{StaticResource GlassButtonStyle}" Click="ClearButton_Click"/>
                <!-- Status -->
                <TextBlock x:Name="StatusText" Text="Ready" Foreground="#88FFFFFF" VerticalAlignment="Center" Margin="20,0,0,0"/>
            </StackPanel>
        </Border>

        <!-- 3D Viewport -->
        <Border Grid.Row="1" Style="{StaticResource GlassPanelStyle}" ClipToBounds="True">
            <h:HelixViewport3D x:Name="viewport" ZoomExtentsWhenLoaded="True" ShowCoordinateSystem="True" Background="Transparent">
                <h:HelixViewport3D.DefaultCamera>
                    <PerspectiveCamera Position="8,9,7" LookDirection="-1,-1,-1" UpDirection="0,1,0"/>
                </h:HelixViewport3D.DefaultCamera>
                
                <h:DefaultLights/>
                <h:GridLinesVisual3D Width="200" Length="200" MinorDistance="1" MajorDistance="10" Thickness="0.05" Fill="#40FFFFFF"/>
                
                <ModelVisual3D x:Name="modelContainer"/>
            </h:HelixViewport3D>
        </Border>
    </Grid>
</UserControl>
